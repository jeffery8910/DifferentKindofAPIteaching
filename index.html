<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’å‹•å¼ API å­¸ç¿’ç¶²ç«™</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Inter å­—é«” */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* Neo æ„Ÿæ¯›ç»ç’ƒé¢¨æ ¼å®¹å™¨ */
        .neo-glass-container {
            background: rgba(255, 255, 255, 0.05); /* æ›´æ·±çš„ç»ç’ƒèƒŒæ™¯ */
            backdrop-filter: blur(12px) saturate(150%);
            -webkit-backdrop-filter: blur(12px) saturate(150%);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            transition: all 0.3s ease;
        }

        .neo-glass-container:hover {
            box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.5);
        }
        
        /* åˆ†é æŒ‰éˆ• */
        .tab-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #e0e0e0;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2); /* Neo Brutalist shadow */
        }

        .tab-button:hover, .tab-button.active {
            background: rgba(80, 150, 255, 0.8); /* äº®è—è‰²å¼·èª¿ */
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(80, 150, 255,0.4);
        }
        
        /* å…§å®¹é¢æ¿ */
        .tab-content {
            display: none;
            padding: 25px;
            border-radius: 15px;
            background: rgba(0,0,0,0.2); /* å…§å®¹å€çš„æ·±è‰²èƒŒæ™¯ */
            min-height: 400px;
        }

        .tab-content.active {
            display: block;
        }

        /* Neo Brutalist é¢¨æ ¼æŒ‰éˆ• */
        .neo-button {
            background-color: #3949AB; /* é®®æ˜é¡è‰² (æ·±è—) */
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 4px 4px 0px #1A237E; /* ç¡¬é‚Šé™°å½± (æ›´æ·±çš„è—) */
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .neo-button:hover {
            background-color: #5C6BC0; /* æ‡¸åœæ™‚ç¨æ·º */
            box-shadow: 2px 2px 0px #1A237E;
            transform: translate(2px, 2px);
        }
        .neo-button:active {
            background-color: #7986CB;
            box-shadow: 0px 0px 0px #1A237E;
            transform: translate(4px, 4px);
        }

        /* è¼¸å…¥æ¡† */
        .neo-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #e0e0e0; /* é¸ä¸­é …ç›®çš„æ–‡å­—é¡è‰² (é¡¯ç¤ºåœ¨è¼¸å…¥æ¡†ä¸­) */
            padding: 10px;
            border-radius: 8px;
            width: 100%;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.3);
        }
        .neo-input:focus {
            outline: none;
            border-color: #5096FF; 
            box-shadow: 0 0 0 2px rgba(80, 150, 255, 0.5);
        }
        /* ä¸‹æ‹‰é¸å–®ä¸­é¸é …çš„æ¨£å¼ */
        .neo-input option {
            color: #343a40; /* é¸é …æ–‡å­—é¡è‰² (ç”¨æ–¼ä¸‹æ‹‰åˆ—è¡¨ä¸­çš„æ–‡å­—) - æ”¹ç‚ºè¼ƒæ·±çš„é¡è‰² */
            background-color: #ffffff; /* é¸é …èƒŒæ™¯é¡è‰² (ç€è¦½å™¨é€šå¸¸é è¨­ç‚ºæ·ºè‰²) */
        }


        /* ç¨‹å¼ç¢¼å€å¡Š */
        .code-block {
            background: rgba(0, 0, 0, 0.5);
            color: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9em;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .code-block strong { color: #82aaff; } /* é—œéµå­— */
        .code-block span.string { color: #c3e88d; } /* å­—ä¸² */
        .code-block span.comment { color: #637777; } /* è¨»è§£ */

        h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #82aaff; /* äº®è—è‰²æ¨™é¡Œ */
            margin-bottom: 1rem;
            text-shadow: 0 0 5px rgba(80,150,255,0.5);
        }
        h3 {
            font-size: 1.4rem;
            font-weight: 600;
            color: #a2c5ff; /* æ·ºè—è‰²å‰¯æ¨™é¡Œ */
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
        }
        p {
            line-height: 1.7;
            margin-bottom: 1rem;
        }
        ul:not(.list-none) { 
            list-style-position: inside;
            padding-left: 0; 
        }
        li { margin-bottom: 0.5rem; }

        /* è¨Šæ¯æç¤º */
        .feedback-message {
            padding: 10px;
            border-radius: 6px;
            margin-top: 10px;
            font-weight: 500;
        }
        .feedback-success {
            background-color: rgba(76, 175, 80, 0.2);
            border: 1px solid rgba(76, 175, 80, 0.7);
            color: #90ee90;
        }
        .feedback-error {
            background-color: rgba(244, 67, 54, 0.2);
            border: 1px solid rgba(244, 67, 54, 0.7);
            color: #ffcccb;
        }
        .feedback-info {
            background-color: rgba(33, 150, 243, 0.2);
            border: 1px solid rgba(33, 150, 243, 0.7);
            color: #add8e6;
        }

        /* API å…¸ç¯„å¡ç‰‡ (é€šç”¨åŒ–) */
        .paradigm-card {
            background: rgba(255, 255, 255, 0.08); 
            backdrop-filter: blur(8px) saturate(120%);
            -webkit-backdrop-filter: blur(8px) saturate(120%);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        .paradigm-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }
        .paradigm-card > h3:first-child, 
        .paradigm-card > .interactive-area > h3:first-child { 
            margin-top: 0;
        }
        .paradigm-card p {
            font-size: 0.9rem;
            color: #b0c4de;
            margin-bottom: 1rem;
        }
        /* é‡å° paradigm tab å…§çš„æŒ‰éˆ•æ¨£å¼ */
        #tab-paradigms .paradigm-card .neo-button {
            padding: 10px 18px; 
            font-size: 0.8rem; 
            align-self: flex-start; 
        }
        /* ç¢ºä¿ tab-intro å…§çš„åˆ—è¡¨æœ‰ç¸®æ’ */
        #tab-intro .paradigm-card ul:not(.analogy-cards):not(.importance-cards) { 
            padding-left: 1.2em;
        }
        /* é¤å»³æ¯”å–»å°å¡ç‰‡ */
        .analogy-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
        }
        .analogy-card strong {
            display: block;
            font-size: 1.1rem;
            color: #82aaff; 
            margin-bottom: 0.5rem;
        }
        .analogy-card .description { 
            display: block; 
            font-size: 0.8rem; 
            color: #b0bec5; 
            margin-top: 0.25rem; 
        }

        /* API é‡è¦æ€§å¡ç‰‡ */
        .importance-card {
            background: rgba(0, 0, 0, 0.15);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255,255,255,0.08);
        }
        .importance-card strong {
            font-size: 1rem;
            color: #90caf9; 
            margin-bottom: 0.3rem;
            display: block;
        }
        .importance-card span {
            font-size: 0.85rem;
            color: #b0c4de;
        }

    </style>
</head>
<body class="p-4 md:p-8">

    <div class="neo-glass-container max-w-5xl mx-auto p-6 md:p-10">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-pink-400 to-purple-500 mb-2">
                ğŸš€ äº’å‹•å¼ API å­¸ç¿’ä¹‹æ—… ğŸš€
            </h1>
            <p class="text-lg text-gray-300">ä¸€æ­¥ä¸€æ­¥æ¢ç´¢ API çš„å¥§ç§˜ï¼Œå¾æ¦‚å¿µåˆ°å¯¦ä½œï¼</p>
        </header>

        <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
            <button class="tab-button active" onclick="openTab(event, 'tab-intro')">ğŸ¤” ä»€éº¼æ˜¯ APIï¼Ÿ</button>
            <button class="tab-button" onclick="openTab(event, 'tab-paradigms')">ğŸ“š API å…¸ç¯„</button>
            <button class="tab-button" onclick="openTab(event, 'tab-rest')">ğŸ› ï¸ REST API å¯¦æˆ°</button>
            <button class="tab-button" onclick="openTab(event, 'tab-graphql')">âœ¨ GraphQL API é«”é©—</button>
            <button class="tab-button" onclick="openTab(event, 'tab-webhooks')">ğŸ”” WebHooks å³æ™‚é€š</button>
            <button class="tab-button" onclick="openTab(event, 'tab-rpc')">ğŸ“ RPC æ¦‚å¿µ</button>
        </div>

        <div id="tab-intro" class="tab-content active">
            <h2>ğŸ¤” ä»€éº¼æ˜¯ APIï¼Ÿ</h2>
            <div class="paradigm-card mt-4"> 
                <p>API å…¨åæ˜¯ <strong>Application Programming Interface (æ‡‰ç”¨ç¨‹å¼ä»‹é¢)</strong>ã€‚</p>
                <h3 class="text-lg font-semibold mb-3 mt-3 text-center text-sky-300">æƒ³åƒä¸€ä¸‹ä½ å»é¤å»³åƒé£¯ï¼š</h3>
                <div class="grid md:grid-cols-3 gap-4 mb-6 analogy-cards">
                    <div class="analogy-card">
                        <strong>ä½  (æ‡‰ç”¨ç¨‹å¼ A)</strong>
                        <span class="description">æƒ³é»ä¸€ä»½å®®ä¿é›ä¸</span>
                    </div>
                    <div class="analogy-card">
                        <strong>å»šæˆ¿ (æ‡‰ç”¨ç¨‹å¼ B / å¾Œç«¯æœå‹™)</strong>
                        <span class="description">è² è²¬åšèœ</span>
                    </div>
                    <div class="analogy-card">
                        <strong>æœå‹™ç”Ÿ (API)</strong>
                        <span class="description">ä½ å’Œå»šæˆ¿ä¹‹é–“æºé€šçš„æ©‹æ¨‘</span>
                    </div>
                </div>
                <p>ä½ ä¸éœ€è¦çŸ¥é“å»šæˆ¿æ€éº¼é‹ä½œï¼Œåªéœ€è¦å‘Šè¨´æœå‹™ç”Ÿä½ è¦ä»€éº¼ (é€éèœå–®ä¸Šçš„é¸é …)ï¼Œæœå‹™ç”Ÿå°±æœƒæŠŠä½ çš„è«‹æ±‚å‚³é”çµ¦å»šæˆ¿ï¼Œç„¶å¾ŒæŠŠåšå¥½çš„èœç«¯çµ¦ä½ ã€‚API å°±æ˜¯é€™æ¨£ï¼Œå®ƒå®šç¾©äº†ä¸€å¥—è¦å‰‡å’Œå”å®šï¼Œè®“ä¸åŒçš„è»Ÿé«”æ‡‰ç”¨ç¨‹å¼å¯ä»¥äº’ç›¸æºé€šå’Œäº¤æ›è³‡æ–™ï¼Œè€Œä¸éœ€è¦çŸ¥é“å°æ–¹å…§éƒ¨çš„è¤‡é›œå¯¦ä½œç´°ç¯€ã€‚</p>
                
                <h3 class="mt-4">ç‚ºä»€éº¼ API é€™éº¼é‡è¦ï¼Ÿ</h3>
                <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-2 importance-cards">
                    <div class="importance-card">
                        <strong>æ¨¡çµ„åŒ–</strong>
                        <span>å°‡è¤‡é›œç³»çµ±æ‹†åˆ†æˆå°è€Œç¨ç«‹çš„æœå‹™ã€‚</span>
                    </div>
                    <div class="importance-card">
                        <strong>é‡è¤‡ä½¿ç”¨</strong>
                        <span>ä¸€å€‹ API å¯ä»¥è¢«å¤šå€‹ä¸åŒçš„æ‡‰ç”¨ç¨‹å¼ä½¿ç”¨ã€‚</span>
                    </div>
                    <div class="importance-card">
                        <strong>æ•´åˆ</strong>
                        <span>è®“ä¸åŒçš„ç³»çµ± (ä¾‹å¦‚ä½ çš„ç¶²ç«™å’Œæ”¯ä»˜ç³»çµ±) å¯ä»¥å”åŒå·¥ä½œã€‚</span>
                    </div>
                    <div class="importance-card">
                        <strong>å‰µæ–°</strong>
                        <span>é–‹æ”¾ API è®“é–‹ç™¼è€…å¯ä»¥åœ¨ç¾æœ‰æœå‹™çš„åŸºç¤ä¸Šå»ºç«‹æ–°çš„æ‡‰ç”¨å’ŒåŠŸèƒ½ã€‚</span>
                    </div>
                </div>

                <div class="mt-6 p-4 bg-blue-900/30 rounded-lg border border-blue-500/50">
                  <p class="text-blue-300 mb-0"><strong class="text-blue-200">ç°¡å–®ä¾†èªªï¼š</strong> API å°±åƒæ˜¯è»Ÿé«”ä¸–ç•Œçš„ã€Œæœå‹™ç”Ÿã€æˆ–ã€Œç¿»è­¯å“¡ã€ï¼Œè®“ä¸åŒçš„ç¨‹å¼å¯ä»¥é †æš¢åœ°å°è©±ï¼</p>
                </div>
            </div>
        </div>

        <div id="tab-paradigms" class="tab-content">
            <h2>ğŸ“š API å…¸ç¯„æ¦‚è¦½</h2>
            <p>API å…¸ç¯„å®šç¾©äº† API çš„è¨­è¨ˆé¢¨æ ¼å’Œé€šè¨Šæ¨¡å¼ã€‚é¸æ“‡æ­£ç¢ºçš„å…¸ç¯„å°æ–¼ API çš„æˆåŠŸè‡³é—œé‡è¦ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è¦‹çš„ API å…¸ç¯„ï¼š</p>
            
            <h3 class="mt-6 mb-4">è«‹æ±‚-å›æ‡‰ (Request-Response) APIs</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                <div class="paradigm-card">
                    <div>
                        <h4>REST (Representational State Transfer)</h4>
                        <p>ç›®å‰æœ€æµè¡Œçš„å…¸ç¯„ä¹‹ä¸€ã€‚ä»¥ã€Œè³‡æºã€ç‚ºæ ¸å¿ƒï¼Œä½¿ç”¨æ¨™æº– HTTP æ–¹æ³• (GET, POST, PUT, DELETE) å°è³‡æºé€²è¡Œæ“ä½œã€‚å¼·èª¿ç„¡ç‹€æ…‹æ€§ã€å¯å¿«å–æ€§å’Œçµ±ä¸€ä»‹é¢ã€‚</p>
                    </div>
                    <button class="neo-button" onclick="navigateToTab('tab-rest')">å‰å¾€ REST å¯¦æˆ° &rarr;</button>
                </div>
                <div class="paradigm-card">
                    <div>
                        <h4>GraphQL</h4>
                        <p>ä¸€ç¨® API çš„æŸ¥è©¢èªè¨€ã€‚å…è¨±å®¢æˆ¶ç«¯ç²¾ç¢ºæŒ‡å®šéœ€è¦çš„è³‡æ–™çµæ§‹ï¼Œä¼ºæœå™¨åªå›å‚³é€™äº›è³‡æ–™ï¼Œé¿å…éåº¦æˆ–ä¸è¶³ç²å–ã€‚é€šå¸¸åªæœ‰ä¸€å€‹ç«¯é»ã€‚</p>
                    </div>
                    <button class="neo-button" onclick="navigateToTab('tab-graphql')">å‰å¾€ GraphQL é«”é©— &rarr;</button>
                </div>
                <div class="paradigm-card">
                    <div>
                        <h4>RPC (Remote Procedure Call)</h4>
                        <p>å®¢æˆ¶ç«¯ç›´æ¥å‘¼å«é ç«¯ä¼ºæœå™¨ä¸Šçš„å‡½å¼æˆ–ç¨‹åºã€‚ä»¥ã€Œå‹•ä½œã€ç‚ºæ ¸å¿ƒï¼Œç›¸å°ç°¡å–®ç›´æ¥ã€‚</p>
                    </div>
                    <button class="neo-button" onclick="navigateToTab('tab-rpc')">å‰å¾€ RPC æ¦‚å¿µ &rarr;</button>
                </div>
            </div>

            <h3 class="mt-8 mb-4">äº‹ä»¶é©…å‹• (Event-Driven) APIs</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                 <div class="paradigm-card">
                    <div>
                        <h4>WebHooks</h4>
                        <p>ä¸€ç¨® HTTP å›å‘¼æ©Ÿåˆ¶ã€‚ç•¶äº‹ä»¶ç™¼ç”Ÿæ™‚ï¼Œæœå‹™æä¾›è€…æœƒå‘é å…ˆè¨­å®šå¥½çš„ URL ç™¼é€ä¸€å€‹ HTTP POST è«‹æ±‚ï¼Œé€šçŸ¥å®¢æˆ¶ç«¯ã€‚</p>
                    </div>
                    <button class="neo-button" onclick="navigateToTab('tab-webhooks')">å‰å¾€ WebHooks å³æ™‚é€š &rarr;</button>
                </div>
                <div class="paradigm-card">
                    <div>
                        <h4>WebSockets</h4>
                        <p>æä¾›ä¸€å€‹æŒä¹…çš„ã€é›™å‘çš„é€šè¨Šé »é“ã€‚å®¢æˆ¶ç«¯å’Œä¼ºæœå™¨å¯ä»¥éš¨æ™‚äº’ç›¸ç™¼é€è¨Šæ¯ï¼Œé©åˆå³æ™‚æ‡‰ç”¨ã€‚</p>
                        <p class="text-sm text-gray-400 mt-2">(æ­¤ç¶²ç«™æš«ä¸æä¾› WebSockets äº’å‹•éŠæˆ²ï¼Œä½†å…¶æ¦‚å¿µé¡ä¼¼å³æ™‚èŠå¤©å®¤çš„é›™å‘æºé€š)</p>
                    </div>
                </div>
            </div>
            <p class="mt-8">ä¸åŒçš„å…¸ç¯„é©ç”¨æ–¼ä¸åŒçš„å ´æ™¯ã€‚äº†è§£å®ƒå€‘çš„ç‰¹æ€§æœ‰åŠ©æ–¼æ‚¨è¨­è¨ˆå‡ºæ›´æœ‰æ•ˆç‡ã€æ›´æ˜“æ–¼ç¶­è­·çš„ APIã€‚</p>
        </div>

        <div id="tab-rest" class="tab-content">
            <h2>ğŸ› ï¸ REST API å¯¦æˆ°ï¼šé¤å»³è¨‚å–®ç³»çµ±</h2>
            <p>REST API ä»¥ã€Œè³‡æºã€ç‚ºä¸­å¿ƒã€‚åœ¨é€™å€‹éŠæˆ²ä¸­ï¼Œæˆ‘å€‘å°‡ç‚ºä¸€å€‹è™›æ§‹çš„é¤å»³è¨‚å–®ç³»çµ±è¨­è¨ˆ API ç«¯é»ã€‚ä¸»è¦è³‡æºæ˜¯ã€Œè¨‚å–®ã€(orders)ã€‚</p>
            
            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="paradigm-card"> 
                    <h3>å°éŠæˆ²ï¼šè¨­è¨ˆä½ çš„è¨‚å–® API</h3>
                    <p class="mb-4"><strong>ç›®æ¨™ï¼š</strong> ç‚ºä»¥ä¸‹å¸¸è¦‹çš„è¨‚å–®æ“ä½œé¸æ“‡æ­£ç¢ºçš„ HTTP æ–¹æ³•å’Œè¨­è¨ˆåˆé©çš„ URL è·¯å¾‘ã€‚</p>
                    
                    <div class="mb-6 p-4 border border-dashed border-gray-600 rounded-lg">
                        <h4>1. ç²å–æ‰€æœ‰è¨‚å–®åˆ—è¡¨</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-center">
                            <div>
                                <label for="rest-q1-method" class="block text-sm font-medium mb-1">HTTP æ–¹æ³•:</label>
                                <select id="rest-q1-method" class="neo-input">
                                    <option value="">é¸æ“‡æ–¹æ³•</option>
                                    <option value="GET">GET</option>
                                    <option value="POST">POST</option>
                                    <option value="PUT">PUT</option>
                                    <option value="DELETE">DELETE</option>
                                </select>
                            </div>
                            <div>
                                <label for="rest-q1-path" class="block text-sm font-medium mb-1">URL è·¯å¾‘:</label>
                                <input type="text" id="rest-q1-path" class="neo-input" placeholder="/orders">
                            </div>
                            <button class="neo-button mt-4 md:mt-0" onclick="checkRestAnswer('q1', 'GET', '/orders')">æª¢æŸ¥ç­”æ¡ˆ</button>
                        </div>
                        <div id="rest-q1-feedback" class="feedback-message mt-2 hidden"></div>
                    </div>

                    <div class="mb-6 p-4 border border-dashed border-gray-600 rounded-lg">
                        <h4>2. å»ºç«‹ä¸€å€‹æ–°è¨‚å–®</h4>
                         <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-center">
                            <div>
                                <label for="rest-q2-method" class="block text-sm font-medium mb-1">HTTP æ–¹æ³•:</label>
                                <select id="rest-q2-method" class="neo-input">
                                    <option value="">é¸æ“‡æ–¹æ³•</option>
                                    <option value="GET">GET</option>
                                    <option value="POST">POST</option>
                                    <option value="PUT">PUT</option>
                                    <option value="DELETE">DELETE</option>
                                </select>
                            </div>
                            <div>
                                <label for="rest-q2-path" class="block text-sm font-medium mb-1">URL è·¯å¾‘:</label>
                                <input type="text" id="rest-q2-path" class="neo-input" placeholder="/orders">
                            </div>
                            <button class="neo-button mt-4 md:mt-0" onclick="checkRestAnswer('q2', 'POST', '/orders')">æª¢æŸ¥ç­”æ¡ˆ</button>
                        </div>
                        <div id="rest-q2-feedback" class="feedback-message mt-2 hidden"></div>
                    </div>

                    <div class="p-4 border border-dashed border-gray-600 rounded-lg"> 
                        <h4>3. ç²å–ç‰¹å®š ID çš„è¨‚å–® (ä¾‹å¦‚ ID: 123)</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-center">
                            <div>
                                <label for="rest-q3-method" class="block text-sm font-medium mb-1">HTTP æ–¹æ³•:</label>
                                <select id="rest-q3-method" class="neo-input">
                                    <option value="">é¸æ“‡æ–¹æ³•</option>
                                    <option value="GET">GET</option>
                                    <option value="POST">POST</option>
                                    <option value="PUT">PUT</option>
                                    <option value="DELETE">DELETE</option>
                                </select>
                            </div>
                            <div>
                                <label for="rest-q3-path" class="block text-sm font-medium mb-1">URL è·¯å¾‘ (ç”¨ {id} ä»£è¡¨è®Šæ•¸):</label>
                                <input type="text" id="rest-q3-path" class="neo-input" placeholder="/orders/{id}">
                            </div>
                            <button class="neo-button mt-4 md:mt-0" onclick="checkRestAnswer('q3', 'GET', '/orders/{id}')">æª¢æŸ¥ç­”æ¡ˆ</button>
                        </div>
                        <div id="rest-q3-feedback" class="feedback-message mt-2 hidden"></div>
                    </div>
                     <p class="text-sm text-gray-400 mt-4">æç¤ºï¼šRESTful API é€šå¸¸ä½¿ç”¨åè©è¡¨ç¤ºè³‡æº (å¦‚ `orders`)ï¼Œä¸¦ä½¿ç”¨ HTTP æ–¹æ³• (GET, POST, PUT, DELETE) è¡¨ç¤ºå°è³‡æºçš„æ“ä½œã€‚è·¯å¾‘åƒæ•¸ (å¦‚ `{id}`) ç”¨æ–¼æŒ‡å®šç‰¹å®šè³‡æºã€‚</p>
                </div>

                <div class="paradigm-card"> 
                    <h3>REST API æ¨¡æ“¬å™¨</h3>
                    <p class="mb-4">è©¦è‘—å®šç¾©ä¸€å€‹è³‡æºå’Œæ“ä½œï¼Œçœ‹çœ‹æ¨¡æ“¬çš„è«‹æ±‚å’Œå›æ‡‰æœƒæ˜¯ä»€éº¼æ¨£å­ã€‚</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="rest-sim-resource" class="block text-sm font-medium mb-1">è³‡æºåç¨± (ä¾‹å¦‚: users, products):</label>
                            <input type="text" id="rest-sim-resource" class="neo-input" value="products">
                        </div>
                        <div>
                            <label for="rest-sim-method" class="block text-sm font-medium mb-1">HTTP æ–¹æ³•:</label>
                            <select id="rest-sim-method" class="neo-input">
                                <option value="GET">GET (è®€å–)</option>
                                <option value="POST">POST (å»ºç«‹)</option>
                                <option value="PUT">PUT (æ›´æ–°/æ›¿æ›)</option>
                                <option value="DELETE">DELETE (åˆªé™¤)</option>
                            </select>
                        </div>
                        <div class="md:col-span-2">
                            <label for="rest-sim-path-param" class="block text-sm font-medium mb-1">è·¯å¾‘åƒæ•¸ (é¸å¡«ï¼Œä¾‹å¦‚: 101):</label>
                            <input type="text" id="rest-sim-path-param" class="neo-input" placeholder="è‹¥è¦æ“ä½œç‰¹å®šè³‡æºï¼Œè«‹å¡«å…¥ ID">
                        </div>
                         <div class="md:col-span-2">
                            <label for="rest-sim-body" class="block text-sm font-medium mb-1">è«‹æ±‚å…§å®¹ (Request Body - POST/PUT æ™‚ä½¿ç”¨, JSON æ ¼å¼):</label>
                            <textarea id="rest-sim-body" rows="3" class="neo-input" placeholder='{ "name": "æ–°ç”¢å“", "price": 99.99 }'></textarea>
                        </div>
                    </div>
                    <button class="neo-button mt-4" onclick="simulateRestApi()">æ¨¡æ“¬è«‹æ±‚</button>
                    
                    <div id="rest-sim-output" class="mt-4 hidden">
                        <h4>æ¨¡æ“¬çµæœ:</h4>
                        <p><strong>è«‹æ±‚:</strong></p>
                        <pre id="rest-sim-request" class="code-block"></pre>
                        <p class="mt-2"><strong>å…¸å‹å›æ‡‰ (ç¯„ä¾‹):</strong></p>
                        <pre id="rest-sim-response" class="code-block"></pre>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-graphql" class="tab-content">
            <h2>âœ¨ GraphQL API é«”é©—ï¼šé›»å½±è³‡æ–™åº«</h2>
            <p>GraphQL å…è¨±å®¢æˆ¶ç«¯ç²¾ç¢ºæŒ‡å®šå®ƒéœ€è¦çš„è³‡æ–™ã€‚åœ¨é€™å€‹éŠæˆ²ä¸­ï¼Œæ‚¨å°‡ç‚ºä¸€å€‹é›»å½±è³‡æ–™åº«æ§‹å»ºæŸ¥è©¢ã€‚</p>

            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="paradigm-card">
                    <h3>å°éŠæˆ²ï¼šæ§‹å»ºä½ çš„é›»å½±æŸ¥è©¢</h3>
                    <p class="mb-4"><strong>ç›®æ¨™ï¼š</strong> å‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹é›»å½± (Movie) å‹åˆ¥ï¼Œå®ƒæœ‰ä»¥ä¸‹æ¬„ä½ï¼š`title` (æ¨™é¡Œ), `director` (å°æ¼”), `year` (å¹´ä»½), `genre` (é¡å‹), `actors` (æ¼”å“¡åˆ—è¡¨)ã€‚è«‹å‹¾é¸æ‚¨æƒ³æŸ¥è©¢çš„é›»å½±è³‡è¨Šã€‚</p>
                    
                    <div class="mb-4">
                        <label class="block font-medium mb-2">é¸æ“‡æ‚¨æƒ³æŸ¥è©¢çš„é›»å½±æ¬„ä½ï¼š</label>
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-2">
                            <div><input type="checkbox" id="gql-field-title" value="title" class="mr-2 gql-field">æ¨™é¡Œ (title)</div>
                            <div><input type="checkbox" id="gql-field-director" value="director" class="mr-2 gql-field">å°æ¼” (director)</div>
                            <div><input type="checkbox" id="gql-field-year" value="year" class="mr-2 gql-field">å¹´ä»½ (year)</div>
                            <div><input type="checkbox" id="gql-field-genre" value="genre" class="mr-2 gql-field">é¡å‹ (genre)</div>
                            <div><input type="checkbox" id="gql-field-actors" value="actors" class="mr-2 gql-field">æ¼”å“¡ (actors)</div>
                        </div>
                    </div>
                    <button class="neo-button" onclick="generateGraphqlQuery()">ç”¢ç”Ÿ GraphQL æŸ¥è©¢</button>

                    <div id="gql-game-output" class="mt-4 hidden">
                        <h4>æ‚¨æ§‹å»ºçš„æŸ¥è©¢:</h4>
                        <pre id="gql-game-query" class="code-block"></pre>
                        <h4>æ¨¡æ“¬å›æ‡‰ (ç¯„ä¾‹):</h4>
                        <pre id="gql-game-response" class="code-block"></pre>
                    </div>
                    <p class="text-sm text-gray-400 mt-4">æç¤ºï¼šGraphQL æŸ¥è©¢çœ‹èµ·ä¾†åƒ JSONï¼Œä½†åªæœ‰éµåã€‚æ‚¨å¯ä»¥å·¢ç‹€æŸ¥è©¢ç›¸é—œè³‡æ–™ï¼Œä½†æ­¤éŠæˆ²ç°¡åŒ–ç‚ºå–®ä¸€å±¤ç´šæŸ¥è©¢ã€‚</p>
                </div>

                <div class="paradigm-card">
                    <h3>GraphQL æ¨¡æ“¬å™¨</h3>
                    <p class="mb-4">è©¦è‘—æ‰‹å‹•ç·¨å¯«ä¸€å€‹ç°¡å–®çš„ GraphQL æŸ¥è©¢ (é‡å°è™›æ§‹çš„ `user` å‹åˆ¥ï¼Œå®ƒæœ‰ `id`, `name`, `email`, `posts { title }` æ¬„ä½)ã€‚</p>
                    <label for="gql-sim-query" class="block text-sm font-medium mb-1">è¼¸å…¥æ‚¨çš„ GraphQL æŸ¥è©¢:</label>
                    <textarea id="gql-sim-query" rows="6" class="neo-input" placeholder="query {\n  user(id: \"1\") {\n    name\n    email\n  }\n}"></textarea>
                    <button class="neo-button mt-4" onclick="simulateGraphqlApi()">æ¨¡æ“¬æŸ¥è©¢</button>

                    <div id="gql-sim-output" class="mt-4 hidden">
                        <h4>æ¨¡æ“¬å›æ‡‰:</h4>
                        <pre id="gql-sim-response" class="code-block"></pre>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-webhooks" class="tab-content">
            <h2>ğŸ”” WebHooks å³æ™‚é€šï¼šè¨‚å–®ç‹€æ…‹æ›´æ–°</h2>
            <p>WebHooks æ˜¯ä¸€ç¨®äº‹ä»¶é©…å‹•çš„æ©Ÿåˆ¶ã€‚ç•¶ç‰¹å®šäº‹ä»¶ç™¼ç”Ÿæ™‚ï¼Œæœå‹™æœƒå‘æ‚¨æä¾›çš„ URL ç™¼é€ä¸€å€‹ HTTP POST è«‹æ±‚ã€‚</p>

            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="paradigm-card">
                    <h3>å°éŠæˆ²ï¼šè¨­å®šæ‚¨çš„ WebHook ç›£è½å™¨</h3>
                    <p class="mb-4"><strong>ç›®æ¨™ï¼š</strong> æƒ³åƒæ‚¨æœ‰ä¸€å€‹é›»å•†ç¶²ç«™ï¼Œå¸Œæœ›åœ¨è¨‚å–®ç™¼è²¨æ™‚æ”¶åˆ°å³æ™‚é€šçŸ¥ã€‚æ‚¨éœ€è¦æä¾›ä¸€å€‹ WebHook URL ä¾†æ¥æ”¶é€™äº›é€šçŸ¥ã€‚</p>
                    
                    <div class="mb-4">
                        <label for="wh-game-url" class="block text-sm font-medium mb-1">æ‚¨çš„ (æ¨¡æ“¬) WebHook URL:</label>
                        <input type="text" id="wh-game-url" class="neo-input" placeholder="https://your-service.com/webhook-receiver">
                    </div>
                    <button class="neo-button" onclick="simulateWebhookEvent()">æ¨¡æ“¬ã€Œè¨‚å–®å·²ç™¼è²¨ã€äº‹ä»¶</button>

                    <div id="wh-game-output" class="mt-4 hidden">
                        <h4>WebHook äº‹ä»¶æ¨¡æ“¬:</h4>
                        <p>ä¸€å€‹ POST è«‹æ±‚å·²ç™¼é€åˆ°æ‚¨çš„æ¨¡æ“¬ URLï¼š<strong id="wh-game-sent-url"></strong></p>
                        <p>å¸¶æœ‰ä»¥ä¸‹ Payload (å…§å®¹):</p>
                        <pre id="wh-game-payload" class="code-block"></pre>
                        <p class="feedback-info mt-2">åœ¨çœŸå¯¦ä¸–ç•Œä¸­ï¼Œæ‚¨çš„ä¼ºæœå™¨éœ€è¦åœ¨æä¾›çš„ URL ä¸Šç›£è½å‚³å…¥çš„ POST è«‹æ±‚ï¼Œä¸¦è™•ç†é€™äº› Payloadã€‚</p>
                    </div>
                     <p class="text-sm text-gray-400 mt-4">æç¤ºï¼šWebHook çš„å®‰å…¨æ€§å¾ˆé‡è¦ã€‚çœŸå¯¦æ‡‰ç”¨ä¸­ï¼Œé€šå¸¸æœƒä½¿ç”¨ç°½åé©—è­‰ä¾†ç¢ºä¿è«‹æ±‚ä¾†è‡ªå¯ä¿¡çš„ä¾†æºã€‚</p>
                </div>

                <div class="paradigm-card">
                    <h3>WebHook æ¨¡æ“¬å™¨</h3>
                    <p class="mb-4">å®šç¾©ä¸€å€‹äº‹ä»¶å’Œå…¶ Payloadï¼Œç„¶å¾Œæ¨¡æ“¬è§¸ç™¼ WebHookã€‚</p>
                    <div>
                        <label for="wh-sim-event" class="block text-sm font-medium mb-1">äº‹ä»¶é¡å‹ (ä¾‹å¦‚: user_created, payment_success):</label>
                        <input type="text" id="wh-sim-event" class="neo-input" value="new_comment">
                    </div>
                    <div class="mt-2">
                        <label for="wh-sim-payload" class="block text-sm font-medium mb-1">äº‹ä»¶ Payload (JSON æ ¼å¼):</label>
                        <textarea id="wh-sim-payload" rows="4" class="neo-input" placeholder='{ "comment_id": "c_789", "post_id": "p_123", "author": "Alice", "text": "Great post!" }'></textarea>
                    </div>
                    <div class="mt-2">
                        <label for="wh-sim-target-url" class="block text-sm font-medium mb-1">ç›®æ¨™ WebHook URL:</label>
                        <input type="text" id="wh-sim-target-url" class="neo-input" value="https://api.example.com/my-webhook-handler">
                    </div>
                    <button class="neo-button mt-4" onclick="simulateWebhookTrigger()">è§¸ç™¼ WebHook</button>

                    <div id="wh-sim-output" class="mt-4 hidden feedback-info">
                    </div>
                </div>
            </div>
        </div>
        
        <div id="tab-rpc" class="tab-content">
            <h2>ğŸ“ RPC (Remote Procedure Call) æ¦‚å¿µ</h2>
            <p>RPC å…¸ç¯„çš„æ ¸å¿ƒæ˜¯ã€Œå‹•ä½œã€æˆ–ã€Œå‡½å¼å‘¼å«ã€ã€‚å®¢æˆ¶ç«¯ç›´æ¥å‘¼å«é ç«¯ä¼ºæœå™¨ä¸Šå®šç¾©å¥½çš„ç¨‹åºæˆ–å‡½å¼ï¼Œä¸¦å‚³éå¿…è¦çš„åƒæ•¸ã€‚</p>
            <p>ç›¸è¼ƒæ–¼ REST (ä»¥è³‡æºç‚ºä¸­å¿ƒ)ï¼ŒRPC æ›´é—œæ³¨æ–¼ã€ŒåŸ·è¡Œä»€éº¼æ“ä½œã€ã€‚</p>
            
            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="paradigm-card"> 
                    <h3>RPC çš„ç‰¹é»ï¼š</h3>
                    <ul style="padding-left: 1.2em;"> 
                        <li><strong>ç°¡å–®ç›´è§€ï¼š</strong> æ¦‚å¿µä¸Šé¡ä¼¼æ–¼æœ¬åœ°å‡½å¼å‘¼å«ï¼Œå®¹æ˜“ç†è§£ã€‚</li>
                        <li><strong>æ•ˆèƒ½æ½›åŠ›ï¼š</strong> å¯ä»¥ä½¿ç”¨å¦‚ gRPC ç­‰é«˜æ•ˆèƒ½çš„äºŒé€²ä½å”è­°ï¼Œä½†ä¹Ÿå¯ä»¥é€é HTTP (é€šå¸¸æ˜¯ POST) å¯¦ç¾ã€‚</li>
                        <li><strong>é—œæ³¨å‹•ä½œï¼š</strong> ç•¶ API çš„ä¸»è¦ç›®çš„æ˜¯åŸ·è¡Œç‰¹å®šå‹•ä½œæ™‚ (ä¾‹å¦‚ `calculatePrice`, `sendMessage`, `archiveDocument`)ï¼ŒRPC å¯èƒ½æ›´åˆé©ã€‚</li>
                        <li><strong>ç«¯é»è¨­è¨ˆï¼š</strong> URL ç«¯é»é€šå¸¸æœƒåŒ…å«å‹•ä½œåç¨±ï¼Œä¾‹å¦‚ `/UserService/GetUser` æˆ– `/PaymentService/ProcessPayment`ã€‚</li>
                    </ul>

                    <h3 class="mt-4">ä¸€å€‹ç°¡å–®çš„ RPC-style (é€é HTTP POST) è«‹æ±‚ç¯„ä¾‹ï¼š</h3>
                    <p>å‡è¨­æˆ‘å€‘è¦å‘¼å«ä¸€å€‹ `UserService` ä¸­çš„ `CreateUser` å‡½å¼ï¼š</p>
                    <pre class="code-block">
<strong>POST</strong> /rpc/user-service
<strong>Host:</strong> api.example.com
<strong>Content-Type:</strong> application/json

{
  "method": "CreateUser",
  "params": {
    "username": "john_doe",
    "email": "john.doe@example.com",
    "age": 30
  },
  "id": "request-123" <span class="comment">// è«‹æ±‚ IDï¼Œç”¨æ–¼è¿½è¹¤</span>
}
                    </pre>
                    <p>ä¼ºæœå™¨å¯èƒ½æœƒé€™æ¨£å›æ‡‰ï¼š</p>
                    <pre class="code-block">
<strong>HTTP/1.1 200 OK</strong>
<strong>Content-Type:</strong> application/json

{
  "result": {
    "userId": "user_abc_123",
    "status": "created"
  },
  "error": null,
  "id": "request-123"
}
                    </pre>
                     <p class="mt-6 text-sm text-gray-400">æ³¨æ„ï¼šé€™æ˜¯ä¸€å€‹ç°¡åŒ–çš„ HTTP RPC æ¨¡æ“¬ã€‚åƒ gRPC é€™æ¨£çš„ç¾ä»£ RPC æ¡†æ¶ä½¿ç”¨æ›´é«˜æ•ˆçš„å”è­° (å¦‚ Protocol Buffers) å’Œæ›´è¤‡é›œçš„æ©Ÿåˆ¶ã€‚</p>
                </div>

                <div class="paradigm-card"> 
                    <h3>RPC æ¨¡æ“¬å™¨ (HTTP-based)</h3>
                    <p class="mb-4">è©¦è‘—å®šç¾©ä¸€å€‹é ç«¯å‡½å¼å‘¼å«ï¼Œçœ‹çœ‹æ¨¡æ“¬çš„è«‹æ±‚æœƒæ˜¯ä»€éº¼æ¨£å­ã€‚</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="rpc-sim-service" class="block text-sm font-medium mb-1">æœå‹™/æ¨¡çµ„åç¨± (ä¾‹å¦‚: CalculatorService):</label>
                            <input type="text" id="rpc-sim-service" class="neo-input" value="OrderService">
                        </div>
                        <div>
                            <label for="rpc-sim-method" class="block text-sm font-medium mb-1">æ–¹æ³•/å‡½å¼åç¨± (ä¾‹å¦‚: Add, GetUserDetails):</label>
                            <input type="text" id="rpc-sim-method" class="neo-input" value="PlaceOrder">
                        </div>
                        <div class="md:col-span-2">
                            <label for="rpc-sim-params" class="block text-sm font-medium mb-1">åƒæ•¸ (JSON ç‰©ä»¶æ ¼å¼, ä¾‹å¦‚: {"a": 5, "b": 10}):</label>
                            <textarea id="rpc-sim-params" rows="3" class="neo-input" placeholder='{ "productId": "prod_xyz", "quantity": 2, "customerNotes": "Gift wrap please" }'></textarea>
                        </div>
                    </div>
                    <button class="neo-button mt-4" onclick="simulateRpcCall()">æ¨¡æ“¬ RPC å‘¼å«</button>
                    
                    <div id="rpc-sim-output" class="mt-4 hidden">
                        <h4>æ¨¡æ“¬ RPC è«‹æ±‚ (é€é HTTP POST):</h4>
                        <pre id="rpc-sim-request" class="code-block"></pre>
                        <h4>æ¨¡æ“¬ RPC å›æ‡‰ (ç¯„ä¾‹):</h4>
                        <pre id="rpc-sim-response" class="code-block"></pre>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // é è¨­é–‹å•Ÿç¬¬ä¸€å€‹åˆ†é 
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.tab-button').click();
            // åˆå§‹åŒ– GraphQL éŠæˆ²çš„å‹¾é¸æ¡†äº‹ä»¶ç›£è½
            document.querySelectorAll('.gql-field').forEach(checkbox => {
                checkbox.addEventListener('change', generateGraphqlQuery);
            });
        });

        function openTab(event, tabId) {
            // éš±è—æ‰€æœ‰åˆ†é å…§å®¹
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));

            // ç§»é™¤æ‰€æœ‰æŒ‰éˆ•çš„ active ç‹€æ…‹
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => button.classList.remove('active'));

            // é¡¯ç¤ºç›®æ¨™åˆ†é å…§å®¹ä¸¦è¨­å®šæŒ‰éˆ•ç‚º active
            document.getElementById(tabId).classList.add('active');
            event.currentTarget.classList.add('active');
        }
        
        function navigateToTab(tabId) {
            // æ‰¾åˆ°å°æ‡‰çš„æŒ‰éˆ•ä¸¦è§¸ç™¼é»æ“Š
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => {
                if (button.getAttribute('onclick').includes(tabId)) {
                    button.click();
                }
            });
        }

        // --- REST API éŠæˆ²èˆ‡æ¨¡æ“¬å™¨é‚è¼¯ ---
        function checkRestAnswer(questionId, correctMethod, correctPath) {
            const method = document.getElementById(`rest-${questionId}-method`).value;
            const path = document.getElementById(`rest-${questionId}-path`).value.trim();
            const feedbackEl = document.getElementById(`rest-${questionId}-feedback`);
            
            feedbackEl.classList.remove('hidden', 'feedback-success', 'feedback-error');
            if (method === correctMethod && path === correctPath) {
                feedbackEl.textContent = 'æ­£ç¢ºï¼é€™æ˜¯ä¸€å€‹ç¬¦åˆ RESTful é¢¨æ ¼çš„å¥½è¨­è¨ˆã€‚ğŸ‘';
                feedbackEl.classList.add('feedback-success');
            } else {
                let errorMsg = 'ä¸å¤ªå°å–”ã€‚';
                if (method !== correctMethod) errorMsg += ` HTTP æ–¹æ³•æ‡‰è©²æ˜¯ ${correctMethod}ã€‚`;
                if (path !== correctPath) errorMsg += ` URL è·¯å¾‘å»ºè­°æ˜¯ ${correctPath}ã€‚`;
                feedbackEl.textContent = errorMsg + ' å†è©¦è©¦çœ‹ï¼';
                feedbackEl.classList.add('feedback-error');
            }
        }

        function simulateRestApi() {
            const resource = document.getElementById('rest-sim-resource').value.trim() || 'items';
            const method = document.getElementById('rest-sim-method').value;
            const pathParam = document.getElementById('rest-sim-path-param').value.trim();
            const body = document.getElementById('rest-sim-body').value.trim();

            let url = `/${resource}`;
            if (pathParam) {
                url += `/${pathParam}`;
            }

            let requestText = `<strong>${method}</strong> ${url}\n<strong>Host:</strong> api.example.com`;
            if ((method === 'POST' || method === 'PUT') && body) {
                requestText += `\n<strong>Content-Type:</strong> application/json\n\n${body}`;
            }

            document.getElementById('rest-sim-request').innerHTML = requestText;

            let responseText = `<strong>HTTP/1.1</strong> `;
            let mockData = {};

            switch (method) {
                case 'GET':
                    responseText += `200 OK\n<strong>Content-Type:</strong> application/json\n\n`;
                    if (pathParam) {
                        mockData = { id: pathParam, name: `ç¯„ä¾‹${resource.slice(0,-1)}`, value: "ä¸€äº›è³‡æ–™" };
                    } else {
                        mockData = [
                            { id: "1", name: `ç¯„ä¾‹${resource.slice(0,-1)} A`, value: "è³‡æ–™A" },
                            { id: "2", name: `ç¯„ä¾‹${resource.slice(0,-1)} B`, value: "è³‡æ–™B" }
                        ];
                    }
                    responseText += JSON.stringify(mockData, null, 2);
                    break;
                case 'POST':
                    responseText += `201 Created\n<strong>Content-Type:</strong> application/json\n\n`;
                    try {
                        const parsedBody = JSON.parse(body || '{}');
                        mockData = { id: "new_" + Math.random().toString(36).substr(2, 5), ...parsedBody };
                    } catch (e) {
                        mockData = { id: "new_item", message: "æˆåŠŸå»ºç«‹ (è«‹æ±‚å…§å®¹è§£æå¤±æ•—ï¼Œä½¿ç”¨é è¨­å€¼)"};
                    }
                    responseText += JSON.stringify(mockData, null, 2);
                    break;
                case 'PUT':
                    responseText += `200 OK\n<strong>Content-Type:</strong> application/json\n\n`;
                     try {
                        const parsedBody = JSON.parse(body || '{}');
                        mockData = { id: pathParam || "updated_item", ...parsedBody };
                    } catch (e) {
                        mockData = { id: pathParam || "updated_item", message: "æˆåŠŸæ›´æ–° (è«‹æ±‚å…§å®¹è§£æå¤±æ•—ï¼Œä½¿ç”¨é è¨­å€¼)"};
                    }
                    responseText += JSON.stringify(mockData, null, 2);
                    break;
                case 'DELETE':
                    responseText += `204 No Content\n\n`; // DELETE é€šå¸¸ä¸è¿”å›å…§å®¹
                    break;
            }
            document.getElementById('rest-sim-response').innerHTML = responseText;
            document.getElementById('rest-sim-output').classList.remove('hidden');
        }

        // --- GraphQL API éŠæˆ²èˆ‡æ¨¡æ“¬å™¨é‚è¼¯ ---
        function generateGraphqlQuery() {
            const fields = [];
            document.querySelectorAll('.gql-field:checked').forEach(checkbox => {
                fields.push(`    ${checkbox.value}`);
            });

            const outputDiv = document.getElementById('gql-game-output');
            const queryPre = document.getElementById('gql-game-query');
            const responsePre = document.getElementById('gql-game-response');

            if (fields.length === 0) {
                queryPre.textContent = "// è«‹è‡³å°‘é¸æ“‡ä¸€å€‹æ¬„ä½";
                responsePre.textContent = "// ç­‰å¾…æœ‰æ•ˆçš„æŸ¥è©¢";
                outputDiv.classList.remove('hidden'); // é¡¯ç¤ºæç¤º
                return;
            }

            const query = `query GetMovieInfo {\n  movie {\n${fields.join('\n')}\n  }\n}`;
            queryPre.textContent = query;

            // æ¨¡æ“¬å›æ‡‰
            const mockResponse = {
                data: {
                    movie: {}
                }
            };
            if (document.getElementById('gql-field-title').checked) mockResponse.data.movie.title = "æ˜Ÿéš›å¤§æˆ°ï¼šæ–°å¸Œæœ›";
            if (document.getElementById('gql-field-director').checked) mockResponse.data.movie.director = "å–¬æ²»Â·ç›§å¡æ–¯";
            if (document.getElementById('gql-field-year').checked) mockResponse.data.movie.year = 1977;
            if (document.getElementById('gql-field-genre').checked) mockResponse.data.movie.genre = "ç§‘å¹»";
            if (document.getElementById('gql-field-actors').checked) mockResponse.data.movie.actors = ["é¦¬å…‹Â·æ¼¢ç±³çˆ¾", "å“ˆé‡ŒéœÂ·ç¦ç‰¹", "å˜‰è‰Â·è²»é›ª"];
            
            responsePre.textContent = JSON.stringify(mockResponse, null, 2);
            outputDiv.classList.remove('hidden');
        }
        
        function simulateGraphqlApi() {
            const query = document.getElementById('gql-sim-query').value;
            const outputDiv = document.getElementById('gql-sim-output');
            const responsePre = document.getElementById('gql-sim-response');

            if (!query.trim()) {
                responsePre.textContent = "// è«‹è¼¸å…¥ GraphQL æŸ¥è©¢";
                outputDiv.classList.remove('hidden');
                return;
            }
            
            // éå¸¸ç°¡åŒ–çš„æ¨¡æ“¬å›æ‡‰é‚è¼¯
            let mockResponseData = { data: {} };
            if (query.includes("user")) {
                mockResponseData.data.user = {};
                if (query.includes("name")) mockResponseData.data.user.name = "æ¨¡æ“¬ä½¿ç”¨è€…";
                if (query.includes("email")) mockResponseData.data.user.email = "user@example.com";
                if (query.includes("id")) mockResponseData.data.user.id = query.match(/id:\s*"([^"]+)"/) ? query.match(/id:\s*"([^"]+)"/)[1] : "1";
                if (query.includes("posts") && query.includes("title")) {
                    mockResponseData.data.user.posts = [
                        { title: "æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« " },
                        { title: "GraphQL çœŸé…·" }
                    ];
                }
            } else {
                 mockResponseData.data.error = "ä¸æ”¯æ´çš„æŸ¥è©¢å‹åˆ¥ (åƒ…æ¨¡æ“¬ user)";
            }

            responsePre.textContent = JSON.stringify(mockResponseData, null, 2);
            outputDiv.classList.remove('hidden');
        }

        // --- WebHooks éŠæˆ²èˆ‡æ¨¡æ“¬å™¨é‚è¼¯ ---
        function simulateWebhookEvent() {
            const url = document.getElementById('wh-game-url').value.trim();
            const outputDiv = document.getElementById('wh-game-output');
            const sentUrlEl = document.getElementById('wh-game-sent-url');
            const payloadEl = document.getElementById('wh-game-payload');

            if (!url) {
                alert("è«‹è¼¸å…¥ä¸€å€‹æ¨¡æ“¬ WebHook URLï¼");
                return;
            }

            sentUrlEl.textContent = url;
            const payload = {
                event: "order_shipped",
                order_id: "ORD_" + Math.random().toString(36).substr(2, 9).toUpperCase(),
                timestamp: new Date().toISOString(),
                tracking_number: "TN" + Math.floor(Math.random() * 1000000000)
            };
            payloadEl.textContent = JSON.stringify(payload, null, 2);
            outputDiv.classList.remove('hidden');
        }

        function simulateWebhookTrigger() {
            const eventType = document.getElementById('wh-sim-event').value.trim();
            const payloadStr = document.getElementById('wh-sim-payload').value.trim();
            const targetUrl = document.getElementById('wh-sim-target-url').value.trim();
            const outputEl = document.getElementById('wh-sim-output');

            if (!eventType || !payloadStr || !targetUrl) {
                outputEl.textContent = "è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½ï¼šäº‹ä»¶é¡å‹ã€Payload å’Œç›®æ¨™ URLã€‚";
                outputEl.className = 'mt-4 feedback-error'; // é‡ç½® class
                outputEl.classList.remove('hidden');
                return;
            }

            try {
                JSON.parse(payloadStr); // é©—è­‰ JSON
            } catch (e) {
                outputEl.textContent = "Payload æ ¼å¼éŒ¯èª¤ï¼Œè«‹ç¢ºèªæ˜¯æœ‰æ•ˆçš„ JSONã€‚";
                outputEl.className = 'mt-4 feedback-error';
                outputEl.classList.remove('hidden');
                return;
            }
            
            outputEl.innerHTML = `æ¨¡æ“¬ç™¼é€äº‹ä»¶...<br>
                <strong>äº‹ä»¶é¡å‹:</strong> ${eventType}<br>
                <strong>ç›®æ¨™ URL:</strong> ${targetUrl}<br>
                <strong>Payload:</strong><pre class="code-block mt-1">${payloadStr}</pre>
                <p class="mt-2">ä¸€å€‹ HTTP POST è«‹æ±‚ (åŒ…å«ä¸Šè¿° Payload) å·²è¢«æ¨¡æ“¬ç™¼é€åˆ°ç›®æ¨™ URLã€‚</p>`;
            outputEl.className = 'mt-4 feedback-info'; // é‡ç½® class
            outputEl.classList.remove('hidden');
        }
        
        // --- RPC æ¨¡æ“¬å™¨é‚è¼¯ ---
        function simulateRpcCall() {
            const serviceName = document.getElementById('rpc-sim-service').value.trim() || 'UnknownService';
            const methodName = document.getElementById('rpc-sim-method').value.trim() || 'unknownMethod';
            const paramsStr = document.getElementById('rpc-sim-params').value.trim();
            const outputDiv = document.getElementById('rpc-sim-output');
            const requestPre = document.getElementById('rpc-sim-request');
            const responsePre = document.getElementById('rpc-sim-response');

            let paramsObj = {};
            if (paramsStr) {
                try {
                    paramsObj = JSON.parse(paramsStr);
                } catch (e) {
                    requestPre.textContent = "// åƒæ•¸ JSON æ ¼å¼éŒ¯èª¤";
                    responsePre.textContent = "";
                    outputDiv.classList.remove('hidden');
                    return;
                }
            }

            const rpcRequestPayload = {
                jsonrpc: "2.0", // or just method/params for simpler RPC
                method: `${serviceName}.${methodName}`, // Common practice to combine
                params: paramsObj,
                id: "rpc-sim-" + Math.random().toString(36).substr(2, 5)
            };

            requestPre.textContent = `POST /rpc\nHost: api.example.com\nContent-Type: application/json\n\n` +
                                 JSON.stringify(rpcRequestPayload, null, 2);
            
            // æ¨¡æ“¬å›æ‡‰
            const mockRpcResponse = {
                jsonrpc: "2.0",
                result: {
                    status: "success",
                    message: `æ–¹æ³• ${methodName} å·²åœ¨ ${serviceName} ä¸ŠæˆåŠŸæ¨¡æ“¬åŸ·è¡Œã€‚`,
                    data: { inputParams: paramsObj, processedAt: new Date().toLocaleTimeString() }
                },
                id: rpcRequestPayload.id
            };
            responsePre.textContent = JSON.stringify(mockRpcResponse, null, 2);
            outputDiv.classList.remove('hidden');
        }

    </script>
</body>
</html>
